# Based Math Game
# Educational web application for mastering base conversion
# https://based-math-game.web.app
# https://github.com/hajin-park/based-math-game

## Project Overview

Based Math Game is an educational web application designed to help users master number base conversion between Binary (Base 2), Octal (Base 8), Decimal (Base 10), and Hexadecimal (Base 16). The application features both singleplayer and multiplayer modes, comprehensive tutorials, progress tracking, and global leaderboards.

Inspired by [zetamac](https://arithmetic.zetamac.com), this game provides an engaging way to practice essential computer science and programming skills through timed challenges and competitive gameplay.

## Key Features

### Game Modes
- **Singleplayer Mode**: 48 official pre-configured game modes across different difficulty levels
  - 24 Timed Modes (15-second and 60-second challenges)
  - 24 Speed Run Modes (10-question sprints and 30-question marathons)
  - Custom Playground mode with fully customizable settings
- **Multiplayer Mode**: Real-time competitive rooms with live scoring and friend challenges
  - Create private rooms with custom settings
  - Join existing rooms with room codes
  - Live player presence and scoring
  - Real-time game synchronization

### Learning Resources
- **Interactive Tutorials**: Step-by-step guides for each number base with live converters
  - Binary (Base 2) tutorial with conversion examples
  - Octal (Base 8) tutorial with conversion examples
  - Decimal (Base 10) reference
  - Hexadecimal (Base 16) tutorial with conversion examples
- **How to Play Guide**: Comprehensive documentation covering all game features and mechanics

### Progress Tracking
- **Stats Page**: Personal analytics with detailed game history and performance trends
  - Separate tracking for timed and speed run modes
  - Game history with timestamps and scores
  - Performance metrics and accuracy tracking
- **Global Leaderboards**: Rankings for each official game mode
  - Top scores displayed per game mode
  - Real-time leaderboard updates
- **Guest Mode**: Play without account registration
  - Stats tracked locally with option to sign up for permanent saving
  - Guest users can create/join multiplayer rooms
  - Guest stats don't count towards global leaderboards

### Authentication & User Management
- **Guest Users**: Instant play without registration
  - Uses Firebase Realtime Database with connect/disconnect API
  - Guest UIDs format: `guest_{timestamp}_{random}`
  - Full multiplayer support
  - Seamless upgrade to permanent account
- **Email/Password**: Traditional account creation and authentication
- **Google Sign-In**: OAuth authentication via Firebase
- **Account Linking**: Convert guest account to permanent account while preserving stats
- **Profile Management**: User profiles with customizable display names and avatars

## Technology Stack

- **Frontend**: React 19.2.0, TypeScript 5.2.2, Vite 7.1.7
- **Styling**: Tailwind CSS 3.4.3, shadcn UI components (New York style, Slate theme)
- **Backend**: Firebase (Realtime Database, Authentication, Hosting, Analytics)
- **Routing**: React Router 6.22.3
- **State Management**: React Context API (AuthContext, QuizContext, ResultContext, ThemeContext)
- **UI Components**: Radix UI primitives, Lucide React icons, Framer Motion animations
- **PWA**: Service Worker, Web Manifest for installable app experience
- **Form Handling**: React Hook Form with Zod validation

## Application Routes

### Public Pages (SEO-Indexed)
- `/` - Home page with feature showcase and game mode selection
- `/singleplayer` - Singleplayer game mode selection with 48 official modes + custom playground
- `/multiplayer` - Multiplayer home with create/join room options
- `/multiplayer/create` - Create new multiplayer room with custom settings
- `/multiplayer/join` - Join existing room with room code
- `/tutorials` - Interactive base conversion tutorials (Binary, Octal, Decimal, Hexadecimal)
- `/how-to-play` - Complete gameplay guide and feature documentation
- `/leaderboard` - Global leaderboards by game mode with top scores
- `/stats` - Personal statistics, game history, and performance analytics
- `/about` - Project information, mission, and technology stack
- `/privacy` - Privacy policy and data handling information
- `/terms` - Terms of service

### Authentication Pages
- `/login` - Sign in with email/password or Google OAuth
- `/signup` - Create new account or link guest account to permanent account

### Protected Pages (Require Authentication)
- `/profile` - User profile overview with stats summary
- `/profile/settings` - Account settings, display name, and preferences
- `/profile/game-settings` - Game-specific settings and customization

### Dynamic/Session Pages (Not Indexed)
- `/settings` - Quiz settings configuration (redirects to /singleplayer)
- `/quiz` - Active quiz gameplay session
- `/results` - Quiz results display with score and performance metrics
- `/multiplayer/lobby/:roomId` - Multiplayer room lobby with player list and ready status
- `/multiplayer/game/:roomId` - Active multiplayer game session
- `/multiplayer/results/:roomId` - Multiplayer game results with rankings

## Game Mechanics

### Base Conversion System
- Questions randomly generated from configured conversion settings
- Support for all combinations of Binary (2), Octal (8), Decimal (10), Hexadecimal (16)
- Bi-directional conversions (e.g., Binary→Decimal and Decimal→Binary)
- Configurable number ranges per conversion type
- Real-time answer validation with instant feedback
- Keystroke and backspace tracking for accuracy metrics

### Scoring System
- **Singleplayer Timed Modes**: +1 point per correct answer, score = total correct answers
- **Singleplayer Speed Run Modes**: Score = time taken to complete target questions (lower is better)
- **Multiplayer**: Points based on correctness and speed, with live leaderboard updates
- **Accuracy Tracking**: (total keystrokes - backspaces) / total keystrokes × 100%
- Wrong answers don't penalize score but affect accuracy

### Official Game Modes (48 Total)

**Timed Modes (24 modes)** - Complete as many questions as possible within the time limit:
- **15 Second Challenges** (12 modes):
  - Binary Easy (0-15), Medium (0-255), Hard (0-4095)
  - Octal Easy (0-15), Medium (0-255), Hard (0-4095)
  - Hexadecimal Easy (0-15), Medium (0-255), Hard (0-4095)
  - All Bases Easy (0-15), Medium (0-255), Hard (0-4095)
- **60 Second Challenges** (12 modes):
  - Binary Easy (0-15), Medium (0-255), Hard (0-4095)
  - Octal Easy (0-15), Medium (0-255), Hard (0-4095)
  - Hexadecimal Easy (0-15), Medium (0-255), Hard (0-4095)
  - All Bases Easy (0-15), Medium (0-255), Hard (0-4095)

**Speed Run Modes (24 modes)** - Race to complete a target number of questions as fast as possible:
- **10 Question Sprint** (12 modes):
  - Binary Easy (0-15), Medium (0-255), Hard (0-4095)
  - Octal Easy (0-15), Medium (0-255), Hard (0-4095)
  - Hexadecimal Easy (0-15), Medium (0-255), Hard (0-4095)
  - All Bases Easy (0-15), Medium (0-255), Hard (0-4095)
- **30 Question Marathon** (12 modes):
  - Binary Easy (0-15), Medium (0-255), Hard (0-4095)
  - Octal Easy (0-15), Medium (0-255), Hard (0-4095)
  - Hexadecimal Easy (0-15), Medium (0-255), Hard (0-4095)
  - All Bases Easy (0-15), Medium (0-255), Hard (0-4095)

### Custom Playground Mode
- Fully customizable quiz settings
- Select specific conversion types (e.g., only Binary→Decimal)
- Configure number ranges for each conversion
- Set custom time limits or unlimited time
- Choose to track stats or practice without recording

## Guest User System

Based Math Game uses a custom guest user system instead of Firebase Anonymous Authentication:

- **Implementation**: localStorage + Firebase Realtime Database with connect/disconnect API
- **Guest UID Format**: `guest_{timestamp}_{random}`
- **Capabilities**:
  - Full multiplayer support (create/join rooms)
  - Stats tracked locally and in database
  - View global leaderboards
  - Play all game modes
- **Limitations**:
  - Cannot appear on global leaderboards
  - Stats not permanently saved unless account is created
- **Account Upgrade**: Seamless conversion to permanent account while preserving stats

## Firebase Data Structure

### Realtime Database Schema
```
/users/{uid}
  - displayName: string
  - email: string (authenticated users only)
  - photoURL: string
  - createdAt: timestamp
  - stats: object (game statistics)
  - gameHistory: array (recent games)

/leaderboards/{gameModeId}/{uid}
  - score: number
  - displayName: string
  - timestamp: number
  - duration: number (for speed run modes)

/rooms/{roomId}
  - hostId: string
  - settings: object (game configuration)
  - players: object (player data and ready status)
  - gameState: string (waiting/playing/finished)
  - createdAt: timestamp
  - questions: array (shared questions for all players)

/presence/{uid}
  - online: boolean
  - lastSeen: timestamp

/gameModes
  - Official game mode configurations (read-only)
```

### Security Rules
- Guest users can read/write own data in `/users/{uid}`
- Guest users **cannot** write to `/leaderboards` (only authenticated users)
- Authenticated users have full access to own data
- All users can read leaderboards and game modes
- Room hosts control game state and settings
- Players can only update their own player data within rooms

## Component Architecture

### Core Components
- **ErrorBoundary**: Global error handling with fallback UI
- **ProtectedRoute**: Route guard for authenticated-only pages
- **ConnectionStatus**: Real-time Firebase connection status indicator
- **ProfileDropdown**: User menu with profile, settings, and sign out
- **Countdown**: Pre-game countdown timer (3-2-1-GO)
- **ExitButton**: Game exit with confirmation dialog
- **KickedModal**: Modal shown when user is kicked from multiplayer room

### UI Components (shadcn)
- Button, Card, Input, Label, Select, Switch, Tabs
- Alert Dialog, Dialog, Dropdown Menu, Popover, Tooltip
- Avatar, Badge, Progress, Separator, Toast
- Navigation Menu, Scroll Area, Collapsible, Hover Card

### Feature Modules
- **quiz/**: Quiz gameplay components (QuizPrompt, QuizStats, QuizSettings)
- **tutorials/**: Interactive tutorial components for each base
- **ui/**: Shared UI components (Navigation, Footer, ThemeToggle)

### Contexts
- **AuthContext**: User authentication state and guest user management
- **QuizContext**: Quiz settings and configuration
- **ResultContext**: Quiz results and performance data
- **ThemeContext**: Light/dark mode theme management

### Custom Hooks
- **useGameSettings**: Manage game-specific settings (countdown, sound, etc.)
- **useGameHistory**: Fetch and manage user's game history
- **useStats**: Fetch and calculate user statistics
- **useRoom**: Manage multiplayer room state and real-time updates
- **useKeyboardShortcuts**: Global keyboard shortcuts (Ctrl+K for search, etc.)
- **useTabVisibility**: Detect when user switches tabs (for multiplayer presence)

## Development

### Local Setup
```bash
npm install
# Configure Firebase credentials in src/firebase/config.ts
npm run dev  # Start dev server on localhost:5173
```

### Build & Deploy
```bash
npm run build  # TypeScript + Vite build → dist/
npm run lint   # ESLint type checking
npm run preview  # Preview production build locally
firebase deploy  # Deploy to Firebase Hosting
```

### Firebase Emulators
```bash
firebase emulators:start  # Auth (9099), Database (9000), UI (4000)
# Update firebase/config.ts to use emulator endpoints
```

### Project Structure
```
src/
├── components/       # Shared components
│   ├── ui/          # shadcn UI components
│   └── *.tsx        # Core components (ErrorBoundary, ProtectedRoute, etc.)
├── contexts/        # React contexts (Auth, Quiz, Result, Theme)
├── features/        # Feature modules (quiz, tutorials, ui)
├── firebase/        # Firebase configuration
├── hooks/           # Custom React hooks
├── pages/           # Page components (Home, Quiz, Results, etc.)
│   └── profile/     # Profile sub-pages
├── types/           # TypeScript type definitions
├── utils/           # Utilities (Layout, analytics, ScrollToTop)
└── main.tsx         # App entry point and router configuration
```

## License & Attribution

- **License**: GPL-3.0 (Open Source)
- **Inspiration**: [zetamac](https://arithmetic.zetamac.com) - Arithmetic practice game
- **Repository**: https://github.com/hajin-park/based-math-game
- **Live Site**: https://based-math-game.web.app

## Contact & Support

- **GitHub Repository**: https://github.com/hajin-park/based-math-game
- **Issue Tracker**: https://github.com/hajin-park/based-math-game/issues
- **Developer**: Hajin Park ([@hajin-park](https://github.com/hajin-park))

## SEO & Discoverability

### Primary Keywords
base conversion, binary converter, octal converter, decimal converter, hexadecimal converter, number systems, base conversion game, math game, educational game, quiz game, multiplayer quiz, computer science education, programming practice, number base tutorial, math practice, competitive learning, real-time multiplayer, STEM education

### Secondary Keywords
binary to decimal, decimal to binary, hex to decimal, decimal to hex, octal to decimal, base 2, base 8, base 10, base 16, number base practice, programming fundamentals, computer science game, educational web app, React game, TypeScript game, Firebase game, web-based learning, interactive tutorials

### Target Audience
- Computer science students
- Programming beginners
- Software engineering learners
- Math enthusiasts
- Competitive learners
- Educators and teachers

## Accessibility

- **ARIA Labels**: All interactive elements properly labeled for screen readers
- **Keyboard Navigation**: Full keyboard support with shortcuts
- **Screen Reader Compatible**: Semantic HTML and ARIA attributes
- **Theme Support**: Light and dark mode with system preference detection
- **Responsive Design**: Mobile-first design supporting all screen sizes
- **Focus Management**: Clear focus indicators and logical tab order
- **Color Contrast**: WCAG AA compliant color contrast ratios

## Performance Metrics

- **Bundle Size**: ~950 kB total (~260 kB gzipped)
- **Lighthouse Scores**: Target 90+ for Performance, Accessibility, Best Practices, SEO
- **Service Worker**: Offline support and caching for core assets
- **Real-time Updates**: Firebase Realtime Database for instant synchronization
- **Optimized Rendering**: React 19 with concurrent features and automatic batching
- **Code Splitting**: Route-based code splitting with React.lazy
- **Image Optimization**: SVG icons and optimized assets

## Privacy & Data Handling

### Data Collection
- **Guest Users**:
  - Data stored in localStorage only
  - No permanent server-side storage
  - Can create/join multiplayer rooms
  - Stats not saved to global leaderboards
- **Authenticated Users**:
  - Email and display name (required)
  - Profile photo URL (optional)
  - Game statistics and history
  - Leaderboard entries

### Data Usage
- Minimal data collection (only necessary for gameplay and features)
- No third-party tracking or advertising
- Firebase Analytics for anonymous usage statistics
- User data deletion available in profile settings
- GDPR and CCPA compliant

### Security
- Firebase Authentication for secure user management
- Firebase Security Rules for data access control
- HTTPS-only connections
- No sensitive data stored client-side (except guest localStorage)

## Browser & Platform Support

### Supported Browsers
- Chrome/Edge 90+ (recommended)
- Firefox 88+
- Safari 14+
- Opera 76+

### Requirements
- ES2020+ JavaScript support
- CSS Grid and Flexbox support
- LocalStorage API
- WebSocket support (for Firebase Realtime Database)

### Progressive Web App (PWA)
- Installable on desktop and mobile devices
- Offline support via Service Worker
- App-like experience with standalone display mode
- Custom app icon and splash screen
- Mobile-optimized with viewport-fit=cover

### Platform Compatibility
- Desktop (Windows, macOS, Linux)
- Mobile (iOS 14+, Android 8+)
- Tablet (iPad, Android tablets)
- Responsive design adapts to all screen sizes

